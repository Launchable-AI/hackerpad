<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HACKERPAD</title>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="stylesheet" href="/css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <!-- Privacy-friendly analytics by Plausible -->
  <script async src="https://plausible.io/js/pa-9twbm7AlIx_KFTvYLqmvP.js"></script>
  <script>
    window.plausible=window.plausible||function(){(plausible.q=plausible.q||[]).push(arguments)},plausible.init=plausible.init||function(i){plausible.o=i||{}};
    plausible.init()
  </script>
</head>
<body>
  <div id="app">
    <!-- Top toolbar -->
    <div id="toolbar">
      <div class="toolbar-section brand">
        <div class="brand-text">
          <span class="logo">⬡ HACKERPAD</span>
          <a href="https://launchable.ai" target="_blank" class="byline">by Launchable AI</a>
        </div>
      </div>

      <div class="toolbar-section tools">
        <button class="tool-btn active" data-tool="select" title="Select [S]">
          <span class="icon">⊡</span>
          <span class="label">SELECT</span>
          <span class="hotkey">S</span>
        </button>
        <button class="tool-btn" data-tool="pan" title="Pan [H]">
          <span class="icon">✥</span>
          <span class="label">PAN</span>
          <span class="hotkey">H</span>
        </button>
        <button class="tool-btn" data-tool="draw" title="Draw [D]">
          <span class="icon">✎</span>
          <span class="label">DRAW</span>
          <span class="hotkey">D</span>
        </button>
        <button class="tool-btn" data-tool="line" title="Line [L]">
          <span class="icon">╱</span>
          <span class="label">LINE</span>
          <span class="hotkey">L</span>
        </button>
        <button class="tool-btn" data-tool="rect" title="Rectangle [R]">
          <span class="icon">▢</span>
          <span class="label">RECT</span>
          <span class="hotkey">R</span>
        </button>
        <button class="tool-btn" data-tool="ellipse" title="Ellipse [E]">
          <span class="icon">◯</span>
          <span class="label">ELLIPSE</span>
          <span class="hotkey">E</span>
        </button>
        <button class="tool-btn" data-tool="text" title="Text [T]">
          <span class="icon">A</span>
          <span class="label">TEXT</span>
          <span class="hotkey">T</span>
        </button>
        <button class="tool-btn" data-tool="image" title="Image [I]">
          <span class="icon">⌼</span>
          <span class="label">IMAGE</span>
          <span class="hotkey">I</span>
        </button>
        <button class="tool-btn" data-tool="connect" title="Connect [C]">
          <span class="icon">→</span>
          <span class="label">CONNECT</span>
          <span class="hotkey">C</span>
        </button>
      </div>

      <div class="toolbar-section actions">
        <button class="action-btn" id="undoBtn" title="Undo [Ctrl+Z]">↶</button>
        <button class="action-btn" id="redoBtn" title="Redo [Ctrl+Y]">↷</button>
        <button class="action-btn" id="clearBtn" title="Clear All">⌧</button>
        <button class="action-btn" id="projectsBtn" title="Projects">☰</button>
        <button class="action-btn" id="saveBtn" title="Export File [Ctrl+S]">⬇</button>
        <button class="action-btn" id="loadBtn" title="Import File">⬆</button>
      </div>

      <div class="toolbar-section zoom">
        <button class="zoom-btn" id="zoomOut">−</button>
        <span id="zoomLevel">100%</span>
        <button class="zoom-btn" id="zoomIn">+</button>
        <button class="zoom-btn" id="zoomReset" title="Reset Zoom">⊙</button>
      </div>
    </div>

    <!-- Properties panel -->
    <div id="properties-panel">
      <div class="panel-header">
        <span class="panel-title">▸ PROPERTIES</span>
      </div>
      <div class="panel-content">
        <div class="property-group">
          <label>STROKE</label>
          <div class="color-row">
            <input type="color" id="strokeColor" value="#00ff9d">
            <input type="number" id="strokeWidth" value="2" min="1" max="50">
          </div>
        </div>
        <div class="property-group">
          <label>FILL</label>
          <div class="color-row">
            <input type="color" id="fillColor" value="#0a0a0f">
            <label class="checkbox-label">
              <input type="checkbox" id="fillEnabled">
              <span>ENABLE</span>
            </label>
          </div>
        </div>
        <div class="property-group">
          <label>COLOR PALETTE</label>
          <div class="palette-target-row">
            <button class="palette-target active" data-target="stroke">STROKE</button>
            <button class="palette-target" data-target="fill">FILL</button>
          </div>
          <div class="color-palette" id="colorPalette">
            <button class="palette-slot empty" data-slot="0"></button>
            <button class="palette-slot empty" data-slot="1"></button>
            <button class="palette-slot empty" data-slot="2"></button>
            <button class="palette-slot empty" data-slot="3"></button>
            <button class="palette-slot empty" data-slot="4"></button>
            <button class="palette-slot empty" data-slot="5"></button>
            <button class="palette-slot empty" data-slot="6"></button>
            <button class="palette-slot empty" data-slot="7"></button>
            <button class="palette-slot empty" data-slot="8"></button>
            <button class="palette-slot empty" data-slot="9"></button>
          </div>
          <div class="palette-hint">Click: use · Right-click: save · Middle: clear</div>
        </div>
        <div class="property-group">
          <label>FONT SIZE</label>
          <input type="number" id="fontSize" value="24" min="8" max="200">
        </div>
        <div class="property-group">
          <label>OPACITY</label>
          <input type="range" id="opacity" value="100" min="0" max="100">
        </div>
      </div>

      <div class="panel-header">
        <span class="panel-title">▸ COMPONENT TREE</span>
      </div>
      <div id="layers-list" class="panel-content component-tree">
        <!-- Component tree will be populated here -->
      </div>
    </div>

    <!-- Canvas container -->
    <div id="canvas-container">
      <canvas id="canvas"></canvas>

      <!-- Text input overlay -->
      <textarea id="text-input" placeholder="TYPE HERE..."></textarea>

      <!-- Coordinates display -->
      <div id="coords">
        <span id="mouseX">X: 0</span>
        <span id="mouseY">Y: 0</span>
      </div>

      <!-- Status bar -->
      <div id="status-bar">
        <span id="status-tool">TOOL: SELECT</span>
        <span id="status-objects">OBJECTS: 0</span>
        <span id="status-selected">SELECTED: 0</span>
      </div>
    </div>

    <!-- Hidden file inputs -->
    <input type="file" id="imageInput" accept="image/*" style="display: none;">
    <input type="file" id="loadInput" accept=".json" style="display: none;">

    <!-- Radial Menu -->
    <div id="radial-menu" class="radial-menu">
      <div class="radial-center">
        <span class="radial-center-icon">⬡</span>
      </div>
      <div class="radial-items">
        <button class="radial-item" data-tool="select" data-angle="0">
          <span class="radial-icon">⊡</span>
          <span class="radial-label">SELECT</span>
          <span class="radial-key">S</span>
        </button>
        <button class="radial-item" data-tool="pan" data-angle="40">
          <span class="radial-icon">✥</span>
          <span class="radial-label">PAN</span>
          <span class="radial-key">H</span>
        </button>
        <button class="radial-item" data-tool="draw" data-angle="80">
          <span class="radial-icon">✎</span>
          <span class="radial-label">DRAW</span>
          <span class="radial-key">D</span>
        </button>
        <button class="radial-item" data-tool="line" data-angle="120">
          <span class="radial-icon">╱</span>
          <span class="radial-label">LINE</span>
          <span class="radial-key">L</span>
        </button>
        <button class="radial-item" data-tool="rect" data-angle="160">
          <span class="radial-icon">▢</span>
          <span class="radial-label">RECT</span>
          <span class="radial-key">R</span>
        </button>
        <button class="radial-item" data-tool="ellipse" data-angle="200">
          <span class="radial-icon">◯</span>
          <span class="radial-label">ELLIPSE</span>
          <span class="radial-key">E</span>
        </button>
        <button class="radial-item" data-tool="text" data-angle="240">
          <span class="radial-icon">A</span>
          <span class="radial-label">TEXT</span>
          <span class="radial-key">T</span>
        </button>
        <button class="radial-item" data-tool="image" data-angle="280">
          <span class="radial-icon">⌼</span>
          <span class="radial-label">IMAGE</span>
          <span class="radial-key">I</span>
        </button>
        <button class="radial-item" data-tool="connect" data-angle="320">
          <span class="radial-icon">→</span>
          <span class="radial-label">CONNECT</span>
          <span class="radial-key">C</span>
        </button>
      </div>
      <svg class="radial-ring" viewBox="0 0 500 500">
        <circle cx="250" cy="250" r="175" class="radial-ring-bg"/>
        <circle cx="250" cy="250" r="175" class="radial-ring-glow"/>
      </svg>
    </div>

    <!-- Projects Dialog -->
    <div id="projects-dialog" class="dialog-overlay">
      <div class="dialog-box projects-dialog-box">
        <div class="dialog-header">
          <span class="dialog-title">☰ PROJECTS</span>
          <button class="dialog-close" id="projectsDialogClose">×</button>
        </div>
        <div class="dialog-content">
          <div class="project-save-section">
            <label for="projectNameInput">SAVE CURRENT PROJECT:</label>
            <div class="project-save-row">
              <input type="text" id="projectNameInput" placeholder="Project name...">
              <button class="dialog-btn confirm" id="projectSaveBtn">SAVE</button>
            </div>
          </div>
          <div class="project-list-section">
            <label>SAVED PROJECTS:</label>
            <div id="projectsList" class="projects-list">
              <!-- Projects will be populated here -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scanline overlay -->
  <div id="scanlines"></div>

  <!-- CRT flicker effect -->
  <div id="crt-flicker"></div>

  <script src="/js/app.js"></script>
</body>
</html>
